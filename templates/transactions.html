{% extends "layout.html" %}
{% block content %}

<div class="text-center">
    <h4 class="mt-3">Transactions</h4>
</div>


<section class="space-bottom-2">
<div class="container">


  <div class="d-md-flex justify-content-between align-items-center px-0 mb-2 mr-0">
    <h5 class="h6 mb-0"><span class='text-muted'> Tocal: {{ctx.total}}</span></h5>
    <div class="ml-auto">
      <nav aria-label="...">
        <ul class="pagination  mb-0">
          <li class="page-item {{ctx.first_class}}">
            <a class="page-link" href="/transactions?start=0" tabindex="-1">First</a>
          </li>
          <li class="page-item {{ctx.first_class}}"><a class="page-link" href="/transactions?start={{(ctx.cur_page-1)*ctx.limit}}">prev</a></li>
          <li class="page-item active">
            <a class="page-link" href="#">{{ctx.cur_page}} <span class="sr-only">(current)</span></a>
          </li>
          <li class="page-item {{ctx.last_class}}"><a class="page-link" href="/transactions?start={{(ctx.cur_page+1)*ctx.limit}}">next</a></li>
          <li class="page-item {{ctx.last_class}}">
            <a class="page-link" href="/transactions?start={{ctx.total_page*ctx.limit}}">Last</a>
          </li>
        </ul>
      </nav>
    </div>
  </div>




  <div class="table-responsive mb-3 border box-shadow rounded">
    <table class="table mb-0  table-striped table-hover">
    <thead class="gradient_bg">
    <tr class="small text-uppercase">
    <th scope="col" title="Version Transaction ID" style="color:white">TX ID</th>
    <th scope="col" title="UTC Time" style="color:white">Expiration Time</th>
    <th scope="col" title="Transaction Type" style="color:white">Type</th>
    <th scope="col" title="Sender Address" style="color:white">Sender</th>
    <th scope="col" width="20" style="color:white; text-align:center">---&gt;</th>
    <th scope="col" title="Receiver Address" style="color:white">Receiver</th>
    <th scope="col" title="Transfer Amount" style="color:white">Amount</th>
    <th scope="col" title="Transaction Fee" style="color:white">TX Fee</th>
    </tr>
    </thead>
    <tbody>
{% for tx in txs %}
      <tr>
        <td><a href='./transactions/{{tx.version}}'>{{tx.version}}</a></td>
        <td class='text-nowrap'><span title='{{tx.time}}'>{{tx.human_time}}</span></td>
        <td class='font-size-1 text-muted'>{{tx.code_name}}</td>
        <td><a class="{{tx.sender_text_class}}" href='/accounts/{{tx.sender}}' title='{{tx.sender}}'>{{tx.sender_ab}}</a></td>
{% if tx.success %}
        <td><small><span class='badge badge-success w-80' style="color:white">Success</span></small></td>
{% else %}
        <td><small><span class='badge badge-danger w-80' style="color:white">&nbsp; Failed&nbsp;</span></small></td>
{% endif %}
        <td><a class="{{tx.receiver_text_class}}" href='/accounts/{{tx.receiver}}' title='{{tx.receiver}}'>{{tx.receiver_ab}}</a></td>
        <td class='text-nowrap'>{{tx.money}} <span class='text-muted'>LIB</span></td>
        <td class='text-nowrap'>{{tx.transaction_info.gas_used/1000000}}<span class='text-muted'>LIB</span></td>
      </tr>
{% endfor %}
    </tbody>

    </table>
  </div>


  <div class="d-md-flex justify-content-between align-items-center px-0 mb-2 mr-0">
    <h5 class="h6 mb-0"><span class='text-muted'> Tocal: {{ctx.total}}</span></h5>
    <div class="ml-auto">
      <nav aria-label="...">
        <ul class="pagination  mb-0">
          <li class="page-item {{ctx.first_class}}">
            <a class="page-link" href="/transactions?start=0" tabindex="-1">First</a>
          </li>
          <li class="page-item {{ctx.first_class}}"><a class="page-link" href="/transactions?start={{(ctx.cur_page-1)*10}}">prev</a></li>
          <li class="page-item active">
            <a class="page-link" href="#">{{ctx.cur_page}} <span class="sr-only">(current)</span></a>
          </li>
          <li class="page-item {{ctx.last_class}}"><a class="page-link" href="/transactions?start={{(ctx.cur_page+1)*10}}">next</a></li>
          <li class="page-item {{ctx.last_class}}">
            <a class="page-link" href="/transactions?start={{ctx.total_page*10}}">Last</a>
          </li>
        </ul>
      </nav>
    </div>
  </div>



</div>
</section>


{% endblock %}
